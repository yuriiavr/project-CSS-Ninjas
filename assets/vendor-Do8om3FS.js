var j=function(){return j=Object.assign||function(t){for(var e,i=1,f=arguments.length;i<f;i++)for(var p in e=arguments[i])Object.prototype.hasOwnProperty.call(e,p)&&(t[p]=e[p]);return t},j.apply(this,arguments)};function ut(t,e,i){for(var f,p=0,a=e.length;p<a;p++)!f&&p in e||(f||(f=Array.prototype.slice.call(e,0,p)),f[p]=e[p]);return t.concat(f||Array.prototype.slice.call(e))}function rt(t){return Array.prototype.slice.call(t)}function nt(t,e){var i=Math.floor(t);return i===e||i+1===e?t:e}function at(){return Date.now()}function Z(t,e,i){if(e="data-keen-slider-"+e,i===null)return t.removeAttribute(e);t.setAttribute(e,i||"")}function U(t,e){return e=e||document,typeof t=="function"&&(t=t(e)),Array.isArray(t)?t:typeof t=="string"?rt(e.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?rt(t):[]}function G(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function J(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function st(){var t=[];return{add:function(e,i,f,p){e.addListener?e.addListener(f):e.addEventListener(i,f,p),t.push([e,i,f,p])},input:function(e,i,f,p){this.add(e,i,function(a){return function(n){n.nativeEvent&&(n=n.nativeEvent);var y=n.changedTouches||[],x=n.targetTouches||[],c=n.detail&&n.detail.x?n.detail:null;return a({id:c?c.identifier?c.identifier:"i":x[0]?x[0]?x[0].identifier:"e":"d",idChanged:c?c.identifier?c.identifier:"i":y[0]?y[0]?y[0].identifier:"e":"d",raw:n,x:c&&c.x?c.x:x[0]?x[0].screenX:c?c.x:n.pageX,y:c&&c.y?c.y:x[0]?x[0].screenY:c?c.y:n.pageY})}}(f),p)},purge:function(){t.forEach(function(e){e[0].removeListener?e[0].removeListener(e[2]):e[0].removeEventListener(e[1],e[2],e[3])}),t=[]}}}function $(t,e,i){return Math.min(Math.max(t,e),i)}function V(t){return(t>0?1:0)-(t<0?1:0)||+t}function ot(t){var e=t.getBoundingClientRect();return{height:nt(e.height,t.offsetHeight),width:nt(e.width,t.offsetWidth)}}function F(t,e,i,f){var p=t&&t[e];return p==null?i:f&&typeof p=="function"?p():p}function R(t){return Math.round(1e6*t)/1e6}function lt(t){var e,i,f,p,a,n;function y(M){n||(n=M),x(!0);var E=M-n;E>f&&(E=f);var v=p[i];if(v[3]<E)return i++,y(M);var T=v[2],z=v[4],m=v[0],h=v[1]*(0,v[5])(z===0?1:(E-T)/z);if(h&&t.track.to(m+h),E<f)return C();n=null,x(!1),c(null),t.emit("animationEnded")}function x(M){e.active=M}function c(M){e.targetIdx=M}function C(){var M;M=y,a=window.requestAnimationFrame(M)}function S(){var M;M=a,window.cancelAnimationFrame(M),x(!1),c(null),n&&t.emit("animationStopped"),n=null}return e={active:!1,start:function(M){if(S(),t.track.details){var E=0,v=t.track.details.position;i=0,f=0,p=M.map(function(T){var z,m=Number(v),h=(z=T.earlyExit)!==null&&z!==void 0?z:T.duration,l=T.easing,_=T.distance*l(h/T.duration)||0;v+=_;var A=f;return f+=h,E+=_,[m,T.distance,A,f,T.duration,l]}),c(t.track.distToIdx(E)),C(),t.emit("animationStarted")}},stop:S,targetIdx:null}}function ft(t){var e,i,f,p,a,n,y,x,c,C,S,M,E,v,T=1/0,z=[],m=null,h=0;function l(d){q(h+d)}function _(d){var u=A(h+d).abs;return w(u)?u:null}function A(d){var u=Math.floor(Math.abs(R(d/i))),r=R((d%i+i)%i);r===i&&(r=0);var b=V(d),s=y.indexOf(ut([],y).reduce(function(I,D){return Math.abs(D-r)<Math.abs(I-r)?D:I})),k=s;return b<0&&u++,s===n&&(k=0,u+=b>0?1:-1),{abs:k+u*n*b,origin:s,rel:k}}function L(d,u,r){var b;if(u||!N())return o(d,r);if(!w(d))return null;var s=A(r??h),k=s.abs,I=d-s.rel,D=k+I;b=o(D);var H=o(D-n*V(I));return(H!==null&&Math.abs(H)<Math.abs(b)||b===null)&&(b=H),R(b)}function o(d,u){if(u==null&&(u=R(h)),!w(d)||d===null)return null;d=Math.round(d);var r=A(u),b=r.abs,s=r.rel,k=r.origin,I=W(d),D=(u%i+i)%i,H=y[k],X=Math.floor((d-(b-s))/n)*i;return R(H-D-H+y[I]+X+(k===n?i:0))}function w(d){return O(d)===d}function O(d){return $(d,c,C)}function N(){return p.loop}function W(d){return(d%n+n)%n}function q(d){var u;u=d-h,z.push({distance:u,timestamp:at()}),z.length>6&&(z=z.slice(-6)),h=R(d);var r=g().abs;if(r!==m){var b=m!==null;m=r,b&&t.emit("slideChanged")}}function g(d){var u=d?null:function(){if(n){var r=N(),b=r?(h%i+i)%i:h,s=(r?h%i:h)-a[0][2],k=0-(s<0&&r?i-Math.abs(s):s),I=0,D=A(h),H=D.abs,X=D.rel,K=a[X][2],Q=a.map(function(Y,ct){var P=k+I;(P<0-Y[0]||P>1)&&(P+=(Math.abs(P)>i-1&&r?i:0)*V(-P));var tt=ct-X,it=V(tt),B=tt+H;r&&(it===-1&&P>K&&(B+=n),it===1&&P<K&&(B-=n),S!==null&&B<S&&(P+=i),M!==null&&B>M&&(P-=i));var et=P+Y[0]+Y[1],dt=Math.max(P>=0&&et<=1?1:et<0||P>1?0:P<0?Math.min(1,(Y[0]+P)/Y[0]):(1-P)/Y[0],0);return I+=Y[0]+Y[1],{abs:B,distance:p.rtl?-1*P+1-Y[0]:P,portion:dt,size:Y[0]}});return H=O(H),X=W(H),{abs:O(H),length:f,max:v,maxIdx:C,min:E,minIdx:c,position:h,progress:r?b/i:h/f,rel:X,slides:Q,slidesLength:i}}}();return e.details=u,t.emit("detailsChanged"),u}return e={absToRel:W,add:l,details:null,distToIdx:_,idxToDist:L,init:function(d){if(function(){if(p=t.options,a=(p.trackConfig||[]).map(function(s){return[F(s,"size",1),F(s,"spacing",0),F(s,"origin",0)]}),n=a.length){i=R(a.reduce(function(s,k){return s+k[0]+k[1]},0));var r,b=n-1;f=R(i+a[0][2]-a[b][0]-a[b][2]-a[b][1]),y=a.reduce(function(s,k){if(!s)return[0];var I=a[s.length-1],D=s[s.length-1]+(I[0]+I[2])+I[1];return D-=k[2],s[s.length-1]>D&&(D=s[s.length-1]),D=R(D),s.push(D),(!r||r<D)&&(x=s.length-1),r=D,s},null),f===0&&(x=0),y.push(R(i))}}(),!n)return g(!0);var u;(function(){var r=t.options.range,b=t.options.loop;S=c=b?F(b,"min",-1/0):0,M=C=b?F(b,"max",T):x;var s=F(r,"min",null),k=F(r,"max",null);s!==null&&(c=s),k!==null&&(C=k),E=c===-1/0?c:t.track.idxToDist(c||0,!0,0),v=C===T?C:L(C,!0,0),k===null&&(M=C),F(r,"align",!1)&&C!==T&&a[W(C)][2]===0&&(v-=1-a[W(C)][0],C=_(v-h)),E=R(E),v=R(v)})(),u=d,Number(u)===u?l(o(O(d))):g()},to:q,velocity:function(){var d=at(),u=z.reduce(function(r,b){var s=b.distance,k=b.timestamp;return d-k>200||(V(s)!==V(r.distance)&&r.distance&&(r={distance:0,lastTimestamp:0,time:0}),r.time&&(r.distance+=s),r.lastTimestamp&&(r.time+=k-r.lastTimestamp),r.lastTimestamp=k),r},{distance:0,lastTimestamp:0,time:0});return u.distance/u.time||0}}}function pt(t){var e,i,f,p,a,n,y,x;function c(m){return 2*m}function C(m){return $(m,y,x)}function S(m){return 1-Math.pow(1-m,3)}function M(){return f?t.track.velocity():0}function E(){z();var m=t.options.mode==="free-snap",h=t.track,l=M();p=V(l);var _=t.track.details,A=[];if(l||!m){var L=v(l),o=L.dist,w=L.dur;if(w=c(w),o*=p,m){var O=h.idxToDist(h.distToIdx(o),!0);O&&(o=O)}A.push({distance:o,duration:w,easing:S});var N=_.position,W=N+o;if(W<a||W>n){var q=W<a?a-N:n-N,g=0,d=l;if(V(q)===p){var u=Math.min(Math.abs(q)/Math.abs(o),1),r=function(k){return 1-Math.pow(1-k,1/3)}(u)*w;A[0].earlyExit=r,d=l*(1-u)}else A[0].earlyExit=0,g+=q;var b=v(d,100),s=b.dist*p;t.options.rubberband&&(A.push({distance:s,duration:c(b.dur),easing:S}),A.push({distance:-s+g,duration:500,easing:S}))}t.animator.start(A)}else t.moveToIdx(C(_.abs),!0,{duration:500,easing:function(k){return 1+--k*k*k*k*k}})}function v(m,h){h===void 0&&(h=1e3);var l=147e-9+(m=Math.abs(m))/h;return{dist:Math.pow(m,2)/l,dur:m/l}}function T(){var m=t.track.details;m&&(a=m.min,n=m.max,y=m.minIdx,x=m.maxIdx)}function z(){t.animator.stop()}t.on("updated",T),t.on("optionsChanged",T),t.on("created",T),t.on("dragStarted",function(){f=!1,z(),e=i=t.track.details.abs}),t.on("dragChecked",function(){f=!0}),t.on("dragEnded",function(){var m=t.options.mode;m==="snap"&&function(){var h=t.track,l=t.track.details,_=l.position,A=V(M());(_>n||_<a)&&(A=0);var L=e+A;l.slides[h.absToRel(L)].portion===0&&(L-=A),e!==i&&(L=i),V(h.idxToDist(L,!0))!==A&&(L+=A),L=C(L);var o=h.idxToDist(L,!0);t.animator.start([{distance:o,duration:500,easing:function(w){return 1+--w*w*w*w*w}}])}(),m!=="free"&&m!=="free-snap"||E()}),t.on("dragged",function(){i=t.track.details.abs})}function vt(t){var e,i,f,p,a,n,y,x,c,C,S,M,E,v,T,z,m,h,l=st();function _(g){if(n&&x===g.id){var d=w(g);if(c){if(!o(g))return L(g);C=d,c=!1,t.emit("dragChecked")}if(z)return C=d;G(g);var u=function(b){if(m===-1/0&&h===1/0)return b;var s=t.track.details,k=s.length,I=s.position,D=$(b,m-I,h-I);if(k===0)return 0;if(!t.options.rubberband)return D;if(I<=h&&I>=m||I<m&&i>0||I>h&&i<0)return b;var H=(I<m?I-m:I-h)/k,X=p*k,K=Math.abs(H*X),Q=Math.max(0,1-K/a*2);return Q*Q*b}(y(C-d)/p*f);i=V(u);var r=t.track.details.position;(r>m&&r<h||r===m&&i>0||r===h&&i<0)&&J(g),S+=u,!M&&Math.abs(S*p)>5&&(M=!0),t.track.add(u),C=d,t.emit("dragged")}}function A(g){!n&&t.track.details&&t.track.details.length&&(S=0,n=!0,M=!1,c=!0,x=g.id,o(g),C=w(g),t.emit("dragStarted"))}function L(g){n&&x===g.idChanged&&(n=!1,t.emit("dragEnded"))}function o(g){var d=O(),u=d?g.y:g.x,r=d?g.x:g.y,b=E!==void 0&&v!==void 0&&Math.abs(v-r)<=Math.abs(E-u);return E=u,v=r,b}function w(g){return O()?g.y:g.x}function O(){return t.options.vertical}function N(){p=t.size,a=O()?window.innerHeight:window.innerWidth;var g=t.track.details;g&&(m=g.min,h=g.max)}function W(g){M&&(J(g),G(g))}function q(){if(l.purge(),t.options.drag&&!t.options.disabled){var g;g=t.options.dragSpeed||1,y=typeof g=="function"?g:function(u){return u*g},f=t.options.rtl?-1:1,N(),e=t.container,function(){var u="data-keen-slider-clickable";U("[".concat(u,"]:not([").concat(u,"=false])"),e).map(function(r){l.add(r,"dragstart",J),l.add(r,"mousedown",J),l.add(r,"touchstart",J)})}(),l.add(e,"dragstart",function(u){G(u)}),l.add(e,"click",W,{capture:!0}),l.input(e,"ksDragStart",A),l.input(e,"ksDrag",_),l.input(e,"ksDragEnd",L),l.input(e,"mousedown",A),l.input(e,"mousemove",_),l.input(e,"mouseleave",L),l.input(e,"mouseup",L),l.input(e,"touchstart",A,{passive:!0}),l.input(e,"touchmove",_,{passive:!1}),l.input(e,"touchend",L),l.input(e,"touchcancel",L),l.add(window,"wheel",function(u){n&&G(u)});var d="data-keen-slider-scrollable";U("[".concat(d,"]:not([").concat(d,"=false])"),t.container).map(function(u){return function(r){var b;l.input(r,"touchstart",function(s){b=w(s),z=!0,T=!0},{passive:!0}),l.input(r,"touchmove",function(s){var k=O(),I=k?r.scrollHeight-r.clientHeight:r.scrollWidth-r.clientWidth,D=b-w(s),H=k?r.scrollTop:r.scrollLeft,X=k&&r.style.overflowY==="scroll"||!k&&r.style.overflowX==="scroll";if(b=w(s),(D<0&&H>0||D>0&&H<I)&&T&&X)return z=!0;T=!1,G(s),z=!1}),l.input(r,"touchend",function(){z=!1})}(u)})}}t.on("updated",N),t.on("optionsChanged",q),t.on("created",q),t.on("destroyed",l.purge)}function mt(t){var e,i,f=null;function p(E,v,T){t.animator.active?n(E,v,T):requestAnimationFrame(function(){return n(E,v,T)})}function a(){p(!1,!1,i)}function n(E,v,T){var z=0,m=t.size,h=t.track.details;if(h&&e){var l=h.slides;e.forEach(function(_,A){if(E)!f&&v&&x(_,null,T),c(_,null,T);else{if(!l[A])return;var L=l[A].size*m;!f&&v&&x(_,L,T),c(_,l[A].distance*m-z,T),z+=L}})}}function y(E){return t.options.renderMode==="performance"?Math.round(E):E}function x(E,v,T){var z=T?"height":"width";v!==null&&(v=y(v)+"px"),E.style["min-"+z]=v,E.style["max-"+z]=v}function c(E,v,T){if(v!==null){v=y(v);var z=T?v:0;v="translate3d(".concat(T?0:v,"px, ").concat(z,"px, 0)")}E.style.transform=v,E.style["-webkit-transform"]=v}function C(){e&&(n(!0,!0,i),e=null),t.on("detailsChanged",a,!0)}function S(){p(!1,!0,i)}function M(){C(),i=t.options.vertical,t.options.disabled||t.options.renderMode==="custom"||(f=F(t.options.slides,"perView",null)==="auto",t.on("detailsChanged",a),(e=t.slides).length&&S())}t.on("created",M),t.on("optionsChanged",M),t.on("beforeOptionsChanged",function(){C()}),t.on("updated",S),t.on("destroyed",C)}function ht(t,e){return function(i){var f,p,a,n,y,x=st();function c(o){var w;Z(i.container,"reverse",(w=i.container,window.getComputedStyle(w,null).getPropertyValue("direction")!=="rtl"||o?null:"")),Z(i.container,"v",i.options.vertical&&!o?"":null),Z(i.container,"disabled",i.options.disabled&&!o?"":null)}function C(){S()&&z()}function S(){var o=null;if(n.forEach(function(O){O.matches&&(o=O.__media)}),o===f)return!1;f||i.emit("beforeOptionsChanged"),f=o;var w=o?a.breakpoints[o]:a;return i.options=j(j({},a),w),c(),A(),L(),h(),!0}function M(o){var w=ot(o);return(i.options.vertical?w.height:w.width)/i.size||1}function E(){return i.options.trackConfig.length}function v(o){for(var w in f=!1,a=j(j({},e),o),x.purge(),p=i.size,n=[],a.breakpoints||[]){var O=window.matchMedia(w);O.__media=w,n.push(O),x.add(O,"change",C)}x.add(window,"orientationchange",_),x.add(window,"resize",l),S()}function T(o){i.animator.stop();var w=i.track.details;i.track.init(o??(w?w.abs:0))}function z(o){T(o),i.emit("optionsChanged")}function m(o,w){if(o)return v(o),void z(w);A(),L();var O=E();h(),E()!==O?z(w):T(w),i.emit("updated")}function h(){var o=i.options.slides;if(typeof o=="function")return i.options.trackConfig=o(i.size,i.slides);for(var w=i.slides,O=w.length,N=typeof o=="number"?o:F(o,"number",O,!0),W=[],q=F(o,"perView",1,!0),g=F(o,"spacing",0,!0)/i.size||0,d=q==="auto"?g:g/q,u=F(o,"origin","auto"),r=0,b=0;b<N;b++){var s=q==="auto"?M(w[b]):1/q-g+d,k=u==="center"?.5-s/2:u==="auto"?0:u;W.push({origin:k,size:s,spacing:g}),r+=s}if(r+=g*(N-1),u==="auto"&&!i.options.loop&&q!==1){var I=0;W.map(function(D){var H=r-I;return I+=D.size+g,H>=1||(D.origin=1-H-(r>1?0:1-r)),D})}i.options.trackConfig=W}function l(){A();var o=i.size;i.options.disabled||o===p||(p=o,m())}function _(){l(),setTimeout(l,500),setTimeout(l,2e3)}function A(){var o=ot(i.container);i.size=(i.options.vertical?o.height:o.width)||1}function L(){i.slides=U(i.options.selector,i.container)}i.container=(y=U(t,document)).length?y[0]:null,i.destroy=function(){x.purge(),i.emit("destroyed"),c(!0)},i.prev=function(){i.moveToIdx(i.track.details.abs-1,!0)},i.next=function(){i.moveToIdx(i.track.details.abs+1,!0)},i.update=m,v(i.options)}}var gt=function(t,e,i){try{return function(f,p){var a,n={};return a={emit:function(y){n[y]&&n[y].forEach(function(c){c(a)});var x=a.options&&a.options[y];x&&x(a)},moveToIdx:function(y,x,c){var C=a.track.idxToDist(y,x);if(C){var S=a.options.defaultAnimation;a.animator.start([{distance:C,duration:F(c||S,"duration",500),easing:F(c||S,"easing",function(M){return 1+--M*M*M*M*M})}])}},on:function(y,x,c){c===void 0&&(c=!1),n[y]||(n[y]=[]);var C=n[y].indexOf(x);C>-1?c&&delete n[y][C]:c||n[y].push(x)},options:f},function(){if(a.track=ft(a),a.animator=lt(a),p)for(var y=0,x=p;y<x.length;y++)(0,x[y])(a);a.track.init(a.options.initial||0),a.emit("created")}(),a}(e,ut([ht(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),mt,vt,pt],i||[],!0))}catch(f){console.error(f)}};export{gt as y};
